<div style="margin: auto; width: 90%; border: 3px solid #0275d8; padding: 10px;">
  <div style="margin: auto; width: 50%; text-align:center;">
    <h2>Addams & Family Inc.</h2>
    <h2>Income Statement</h2>
    <h3>As of <%= Date.current.to_formatted_s(:long_ordinal) %></h3>
  </div><br>
  
  <div style="margin: auto; width: 75%; text-align:left; border: 1px solid black;">

    <table style="width: 100%;">
      <tbody>
        <tr style="background-color: #cce5ff;">
          <td colspan="2"><b>Revenues</b></td>
        </tr>

        <% @revenue_accounts.each do |a| %>
          <tr>
            <td style="text-indent: 40px; width: 75%;" ><%= a.name.truncate(40) %> </td>
            <td style="text-align:right; padding-right: 25px;">$<%= number_with_precision(a.balance.abs, precision: 2, delimiter: ',') %></td>
          </tr>
        <% end %>
        <tr style="background-color: #e2e3e5;">
          <td><b>Total Revenues</b></td>
          <td style="text-align:right; padding-right: 25px;"><b>$<%= number_with_precision(@total_revenues.abs, precision: 2, delimiter: ',') %></b></td>
        </tr>

        <tr style="background-color: #cce5ff;">
          <td colspan="2"><b>Expenses</b></td>
        </tr>

        <% @expense_accounts.each do |a| %>
          <tr>
              <td style="text-indent: 40px"><%= a.name.truncate(40) %> </td>
              <td style="text-align:right; padding-right: 25px;">$<%= number_with_precision(a.balance, precision: 2, delimiter: ',') %></td>
          </tr>
        <% end %>
        
        <tr style="background-color: #e2e3e5;">
            <td><b>Total Expenses</b></td>
            <td style="text-align:right; padding-right: 25px;"><b>$<%= number_with_precision(@total_expenses, precision: 2, delimiter: ',') %></b></td>
        </tr>
        <tr style="background-color: #cce5ff;">
          <td ><b>Net Income (Loss)</b></td>
          <td style="text-decoration: underline; text-align:right; padding-right: 25px; "><b>$<%= number_with_precision(@total_revenues.abs - @total_expenses, precision: 2, delimiter: ',') %></b></td>
        </tr>
      </tbody>
    </table>
  </div><br><br>
</div>

<style>
  table, th, td {
      border-bottom: 1px solid black;
      border-collapse: collapse;
      padding: 5px;
    }
</style>