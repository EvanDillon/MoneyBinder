<%= render partial: "shared/navigation_bar"%>
<div class="container">  
  <h1>Edit User</h1>
  <%= form_tag user_update_path, :method => :post do %>
    <div class="form-row">
      <%= label_tag 'Username'%>
      <%= text_field_tag :username, "#{@user.username}", required: true, class: 'form-control'%>
    </div>
    <div class="form-row">
      <div class="form-group col-md-6">
        <%= label_tag 'First Name'%>
        <%= text_field_tag :firstName, "#{@user.firstName}", required: true, class: 'form-control'%>
      </div>
      <div class="form-group col-md-6">
        <%= label_tag 'Last Name' %>
        <%= text_field_tag :lastName, "#{@user.lastName}", required: true, class: 'form-control'%>
      </div>
    </div>

    <div class="form-row">
      <div class="form-group col-md-6">
        <%= label_tag :email%>
        <%= email_field_tag :email, "#{@user.email}", required: true, class: 'form-control'%>
      </div>
      <div class="form-group col-md-6">
        <%= label_tag :phone_number%>
        <%= text_field_tag :phoneNum, "#{@user.phoneNum}", required: true, class: 'form-control'%>
      </div>
    </div>


    <div class="form-group">
      <%= label_tag :address%>
      <%= text_field_tag :address, "#{@user.address}", required: true, class: 'form-control'%>
    </div>
    
    <div class="form-row">
      <%
=begin%>
 <div class="form-group col-md-6">
        <%= label_tag :date_of_birth%>
        <%= date_select :dob, { :order => [:month, :day, :year], value: "#{@user.dob}", :start_year => 1920, :end_year => 2021, required: true}%>
      </div>  
<%
=end%>
      <div class="form-group col-md-6">
        <%= label_tag :Role%>
        <%= select_tag :userType, options_for_select([["Administrator", 1], ["Manager", 2], ["Accountant", 3]], selected: @user.userType) %>
      </div>
      <div class="form-group col-md-6">
        <%= label_tag :activate%>
        <%= check_box_tag :active, true, @user.active %>
      </div> 
    </div>
    <%
=begin%>
 <%= collection_select(:security_question_1, :id,  SecurityQuestion.all, :id, :question) %> 
<%
=end%>
    <%= label_tag @user.security_question.first.question%>
    <%= text_field_tag :security_question_answer, "#{@user.password_authorization.pluck(:answer).first}", required: true, class: 'form-control'%> <br>
    <%= hidden_field_tag "user_id", @user.id %> <br>
    <%= submit_tag 'Submit', :class => 'btn btn-primary btn-block' %>
  <%end%>
</div>